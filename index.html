<!DOCTYPE html>
<html lang="en">
<script src="http://www.w3schools.com/lib/w3data.js"></script>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Five Senses Tours</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,100..1000;1,9..40,100..1000&display=swap"
        rel="stylesheet">
    <link rel="icon" href="favicon/jeep.png">
    <style>
        .tour-details {
            max-height: 0;
            opacity: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out, opacity 0.3s ease-out;
            visibility: hidden;
        }

        .tour-card.active .tour-details {
            max-height: 500px;
            opacity: 1;
            transition: max-height 0.5s ease-in, opacity 0.3s ease-in;
            visibility: visible;
        }


        /* Remove min-height from non-active cards */
        .tour-card {
            height: fit-content;
        }

        /* Only apply min-height when card is active */
        .tour-card.active .p-6 {
            min-height: 400px;
        }

        [data-lang] {
            display: none;
        }

        [data-lang].active {
            display: block;
        }

        [data-lang-inline] {
            display: none;
        }

        [data-lang-inline].active {
            display: inline;
        }

        /* Dropdown styles */
        .dropdown-menu {
            z-index: 50;
            opacity: 0;
            visibility: hidden;
            transition: all 0.2s ease-in-out;
            transform: translateY(-10px);
        }

        .dropdown:hover .dropdown-menu {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        @media (min-width: 1536px) {
            .container-xl {
                max-width: 1400px;
            }
        }

        @media (min-width: 768px) {
            .grid:has(.tour-card:last-child:nth-child(odd)) .tour-card:last-child {
                grid-column: 1 / -1;
                justify-self: center;
            }
        }
    </style>
</head>

<body class="bg-gray-50">
    <!-- Navigation -->
    <nav class="bg-white shadow-lg">
        <div class="container-xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16 lg:h-20">
                <div class="text-xl lg:text-2xl font-bold text-gray-800">
                    <a href="#">
                        <img src="Imagens/logos/five_senses_nb.png" alt="Five Senses Tours Logo" class="h-20 lg:h-14">
                    </a>
                </div>

                <!-- Mobile menu button -->
                <div class="md:hidden">
                    <button id="mobile-menu-button" class="text-gray-600 hover:text-gray-900">
                        <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M4 6h16M4 12h16M4 18h16" />
                        </svg>
                    </button>
                </div>

                <!-- Desktop Navigation -->
                <!-- Navigation Links -->
                <div class="hidden md:flex space-x-8">
                    <a href="#tours" class="text-gray-600 hover:text-gray-900">
                        <span data-lang-inline="en" class="active">Tours</span>
                        <span data-lang-inline="es">Visitas</span>
                        <span data-lang-inline="pt">Tours</span>
                        <span data-lang-inline="ft">Tourn√©e</span>
                    </a>
                    <a href="#about" class="text-gray-600 hover:text-gray-900">
                        <span data-lang-inline="en" class="active">About</span>
                        <span data-lang-inline="es">Sobre Nosotros</span>
                        <span data-lang-inline="pt">Sobre N√≥s</span>
                        <span data-lang-inline="fr">Sur nous</span>
                    </a>
                    <a href="#contact" class="text-gray-600 hover:text-gray-900">
                        <span data-lang-inline="en" class="active">Contact</span>
                        <span data-lang-inline="es">Contacto</span>
                        <span data-lang-inline="pt">Contactos</span>
                        <span data-lang-inline="fr">Contact</span>
                    </a>
                    <a href="#" onclick="openBookingModal('jeep')"
                        class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700">
                        <span data-lang-inline="en" class="active">Book Now</span>
                        <span data-lang-inline="es">Reservar</span>
                        <span data-lang-inline="pt">Reservar</span>
                        <span data-lang-inline="fr">R√©server</span>
                    </a>
                    <!-- Language Dropdown -->
                    <div class="dropdown relative group">
                        <button class="flex items-center space-x-1 text-gray-600 hover:text-gray-900">
                            <span data-lang-inline="en" class="active">üá¨üáß EN</span>
                            <span data-lang-inline="pt" class="active">üáµüáπ PT</span>
                            <span data-lang-inline="es" class="active">üá™üá∏ ES</span>
                            <span data-lang-inline="fr" class="active">üá´üá∑ FR</span>
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M19 9l-7 7-7-7" />
                            </svg>
                        </button>
                        <div class="dropdown-menu absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1">
                            <!-- Available Languages -->
                            <!-- PT -->
                            <a href="#pt" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
                                <div class="flex items-center space-x-2">
                                    <span class="text-lg">üáµüáπ</span>
                                    <div>
                                        <button onclick="changeLanguage('pt')"
                                            class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left">Portugues</button>
                                    </div>
                                </div>
                            </a>

                            <!-- EN -->
                            <a href="#en" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
                                <div class="flex items-center space-x-2">
                                    <span class="text-lg">üá¨üáß</span>
                                    <div>
                                        <button onclick="changeLanguage('en')"
                                            class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left">English</button>
                                    </div>
                                </div>
                            </a>

                            <!-- ES -->
                            <a href="#location" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
                                <div class="flex items-center space-x-2">
                                    <span class="text-lg">üá™üá∏</span>
                                    <div>
                                        <button onclick="changeLanguage('es')"
                                            class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left">Espa√±ol</button>
                                    </div>
                                </div>
                            </a>

                            <!-- FR -->
                            <a href="#location" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
                                <div class="flex items-center space-x-2">
                                    <span class="text-lg">üá´üá∑</span>
                                    <div>
                                        <button onclick="changeLanguage('fr')"
                                            class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left">Fran√ßais</button>
                                    </div>
                                </div>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Mobile menu -->
        <div id="mobile-menu" class="hidden md:hidden">
            <div class="px-2 pt-2 pb-3 space-y-1">
                <a href="#tours" class="block px-3 py-2 text-gray-600 hover:text-gray-900">
                    <span data-lang-inline="en" class="active">Tours</span>
                    <span data-lang-inline="es">Visitas</span>
                    <span data-lang-inline="pt">Tours</span>
                    <span data-lang-inline="fr">Tourn√©e</span>
                </a>
                <a href="#about" class="block px-3 py-2 text-gray-600 hover:text-gray-900">
                    <span data-lang-inline="en" class="active">About</span>
                    <span data-lang-inline="es">Sobre Nosotros</span>
                    <span data-lang-inline="pt">Sobre N√≥s</span>
                    <span data-lang-inline="fr">Sur nous</span>
                </a>
                <a href="#contact" class="block px-3 py-2 text-gray-600 hover:text-gray-900">
                    <span data-lang-inline="en" class="active">Contact</span>
                    <span data-lang-inline="es">Contacto</span>
                    <span data-lang-inline="pt">Contactos</span>
                    <span data-lang-inline="fr">Contact</span>
                </a>
                <a href="#" onclick="openBookingModal('jeep')"
                    class="block px-3 py-2 text-gray-600 hover:text-gray-900">
                    <span data-lang-inline="en" class="active">Book Now</span>
                    <span data-lang-inline="es">Reservar</span>
                    <span data-lang-inline="pt">Reservar</span>
                    <span data-lang-inline="fr">R√©server</span>
                </a>
                <!-- Language selector for mobile -->
                <div class="px-3 py-2">
                    <select onchange="changeLanguage(this.value)" class="w-full p-2 border rounded">
                        <option value="en">üá¨üáß English</option>
                        <option value="pt">üáµüáπ Portugu√™s</option>
                        <option value="es">üá™üá∏ Espa√±ol</option>
                        <option value="fr">üá´üá∑ Fran√ßais</option>
                    </select>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <div class="relative h-screen">
        <div id="hero-carousel" class="w-full h-full">
            <!-- Images will be inserted here by JavaScript -->
        </div>
        <!-- Hero Navigation Dots -->
        <div class="absolute bottom-4 left-0 right-0 flex justify-center space-x-2 z-10"></div>
        <!-- Hero Navigation Arrows -->
        <button onclick="moveHeroSlide(-1)"
            class="absolute left-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-75 focus:outline-none z-10">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
            </svg>
        </button>
        <button onclick="moveHeroSlide(1)"
            class="absolute right-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-75 focus:outline-none z-10">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
            </svg>
        </button>

        <div class="absolute inset-0 bg-black bg-opacity-5 flex items-center justify-center">
            <div class="text-center text-white">
                <h1 class="text-4xl md:text-6xl font-bold mb-4">
                    <span data-lang-inline="en" class="active">Explore the Wilderness</span>
                    <span data-lang-inline="es">Explora la Naturaleza</span>
                    <span data-lang-inline="pt">Explora a Natureza</span>
                    <span data-lang-inline="fr">Explorez la nature</span>
                </h1>
                <p class="text-xl mb-8">
                    <span data-lang-inline="en" class="active">Unforgettable jeep and walking tours in nature's most
                        beautiful locations</span>
                    <span data-lang-inline="es">Tours inolvidables en jeep y caminatas en los lugares m√°s hermosos de la
                        naturaleza</span>
                    <span data-lang-inline="pt">Passeios inesquec√≠veis de jipe ‚Äã‚Äãe caminhadas nos locais mais bonitos da
                        natureza</span>
                    <span data-lang-inline="fr">Des visites inoubliables en jeep et √† pied dans les plus beaux endroits
                        de la nature</span>
                </p>
                <a href="#book" class="bg-green-600 text-white px-8 py-3 rounded-lg text-lg hover:bg-green-700"
                    onclick="openBookingModal('jeep')">
                    <span data-lang-inline="en" class="active">Book Your Adventure</span>
                    <span data-lang-inline="es">Reserva Tu Aventura</span>
                    <span data-lang-inline="pt">Reserva a tua aventura</span>
                    <span data-lang-inline="fr">R√©servez votre aventure</span>
                </a>
            </div>
        </div>
    </div>

    <!-- Tours Section -->
    <section id="tours" class="py-16 max-w-6xl mx-auto px-4">
        <h2 class="text-3xl font-bold text-center mb-12">
            <span data-lang-inline="en" class="active">Our Tours</span>
            <span data-lang-inline="es">Nuestras Tours</span>
            <span data-lang-inline="pt">Os nossos passeios</span>
            <span data-lang-inline="fr">Nos circuits</span>
        </h2>
        <div class="mb-12">
            <h3 class="text-2xl font-bold mb-4">
                <span data-lang-inline="en" class="active">Jeep Tours</span>
                <span data-lang-inline="es">Tours en Jeep</span>
                <span data-lang-inline="pt">Tours de Jipe</span>
                <span data-lang-inline="fr">Tours en Jeep</span>
            </h3>
            <p class="text-gray-600 mb-8">
            <div data-lang-inline="en" class="active">
                <p class="text-justify">
                    Our tours are either pre-defined circuits or customized routes according to your preferences. You'll
                    have access to a guided tour in an all-terrain vehicle with a guide through the locations of
                    greatest natural, human, and cultural interest in the region.
                </p>
                <p class="text-justify">
                    This is an excellent activity to discover the landscapes, history, culture, flora, and fauna in your
                    tour regions, whether with family, as a couple, or with a group of friends.

                    We're ready to provide you with a morning, afternoon, or full day of pure pleasure and joy. We have
                    partnerships with other companies in the areas where we develop our activities to provide additional
                    activities within the Tour if you wish.
                </p>
            </div>
            <div data-lang-inline="es">
                <p class="text-justify">
                    Nuestros tours son circuitos predefinidos o personalizados seg√∫n sus preferencias. Tendr√° acceso a
                    un recorrido guiado en veh√≠culo todoterreno con gu√≠a por los lugares de mayor inter√©s natural,
                    humano y cultural de la regi√≥n.
                </p>
                <p class="text-justify">
                    Esta es una excelente actividad para descubrir los paisajes, la historia, la cultura, la flora y la
                    fauna en las regiones de su tour, en familia, en pareja o con un grupo de amigos.

                    Estamos listos para proporcionarle una ma√±ana, una tarde o un d√≠a completo de puro placer y alegr√≠a.
                    Tenemos alianzas con otras empresas en las √°reas donde desarrollamos nuestras actividades para
                    ofrecer actividades adicionales dentro del Tour si lo desea.
                </p>
            </div>
            <div data-lang-inline="pt">
                <p class="text-justify">
                    Os nossos tours s√£o circuitos pr√©-definidos ou circuitos personalizados, de acordo com as suas
                    prefer√™ncias. Ter√° acesso a um percurso guiado em viatura todo-o-terreno com guia pelos locais de
                    maior interesse natural, humano e cultural da regi√£o.
                </p>
                <p class="text-justify">
                    Esta √© uma excelente atividade para se descobrir as paisagens, a hist√≥ria, a cultura, a flora e a
                    fauna nas regi√µes do seu tour, em fam√≠lia, a dois ou num grupo de amigos.

                    Estamos prontos para lhe proporcionar uma manh√£, uma tarde ou um dia completo de puro prazer e
                    alegria. Temos parcerias com outras empresas nas √°reas em que desenvolvemos as nossas atividades de
                    modo a proporcionar outras atividades inseridas no Tour se o desejar.
                </p>
            </div>
            <div data-lang-inline="fr">
                <p class="text-justify">
                    Nos circuits sont soit pr√©d√©finis, soit personnalis√©s selon vos pr√©f√©rences. Vous aurez acc√®s √† une
                    visite guid√©e en v√©hicule tout-terrain avec un guide √† travers les sites d'int√©r√™t naturel, humain
                    et culturel majeur de la r√©gion.
                </p>
                <p class="text-justify">
                    C'est une excellente activit√© pour d√©couvrir les paysages, l'histoire, la culture, la flore et la
                    faune des r√©gions de votre circuit, en famille, en couple ou avec un groupe d'amis.

                    Nous sommes pr√™ts √† vous offrir une matin√©e, une apr√®s-midi ou une journ√©e compl√®te de pur plaisir
                    et de joie. Nous avons des partenariats avec d'autres entreprises dans les zones o√π nous d√©veloppons
                    nos activit√©s pour proposer des activit√©s suppl√©mentaires dans le cadre du Tour si vous le
                    souhaitez.
                </p>
            </div>
            </p>
        </div>
        <h4 class="text-xl font-semibold mt-8 mb-4" id="arrabida">
            <span>Arr√°bida</span>
        </h4>
        <hr class="border-gray-600 mb-8">
        <!-- Cards Arrabida -->
        <div w3-include-html="Tours/Arrabida/cards_arrabida.html"></div>
        <h4 class="text-xl font-semibold mt-8 mb-4">
            <span>Peninsula de Troia</span>
        </h4>
        <hr class="border-gray-600 mb-8">
        <!-- Cards Peninsula de Troia-->
        <div w3-include-html="Tours/Troia/cards_troia.html"></div>
        <!--
        <h4 class="text-xl font-semibold mt-8 mb-4">
            <span>Sintra</span>
        </h4>
        <hr class="border-gray-600 mb-8">
        -->

        <!-- Cards Sintra -->
        <!--
        <div w3-include-html="Tours/Sintra/cards_sintra.html"></div>
        -->

    </section>

    <!-- Features Section -->
    <section id="about" class="bg-gray-100 py-16">
        <!-- First add the person/team section -->
        <div class="max-w-6xl mx-auto px-4 mb-16">
            <div class="grid md:grid-cols-2 gap-8 items-center">
                <div class="text-center md:text-left">
                    <h2 class="text-3xl font-bold mb-6">
                        <span data-lang-inline="en" class="active">Meet Your Guide</span>
                        <span data-lang-inline="es">Conoce a tu Gu√≠a</span>
                        <span data-lang-inline="pt">Conhe√ßa o seu Guia</span>
                        <span data-lang-inline="fr">Rencontrez Votre Guide</span>
                    </h2>
                    <p class="text-gray-600 mb-4">
                        <span data-lang-inline="en" class="active">With over 20 years of experience exploring the
                            Arr√°bida region, Jos√© Am√¢ndio brings unparalleled knowledge and passion to every tour. As a
                            certified nature guide and local expert, he's dedicated to sharing the hidden gems and
                            natural wonders of this beautiful area.</span>
                        <span data-lang-inline="es">Con m√°s de 20 a√±os de experiencia explorando la regi√≥n de Arr√°bida,
                            Jos√© Am√¢ndio aporta un conocimiento y pasi√≥n sin igual a cada tour. Como gu√≠a certificado de
                            naturaleza y experto local, est√° dedicado a compartir las joyas ocultas y las maravillas
                            naturales de esta hermosa √°rea.</span>
                        <span data-lang-inline="pt">Com mais de 20 anos de experi√™ncia a explorar a regi√£o da Arr√°bida,
                            Jos√© Am√¢ndio traz um conhecimento e paix√£o incompar√°veis para cada passeio. Como guia de
                            natureza certificado e especialista local, dedica-se a partilhar as joias escondidas e as
                            maravilhas naturais desta √°rea magn√≠fica.</span>
                        <span data-lang-inline="fr">Avec plus de 20 ans d'exp√©rience dans l'exploration de la r√©gion
                            d'Arr√°bida, Jos√© Am√¢ndio apporte une connaissance et une passion in√©gal√©es √† chaque visite.
                            En tant que guide nature certifi√© et expert local, il se consacre √† partager les joyaux
                            cach√©s et les merveilles naturelles de cette belle r√©gion.</span>
                    </p>
                    <p class="text-gray-600">
                        <span data-lang-inline="en" class="active">Local to the area and deeply connected to its history
                            and ecology, Jos√© ensures each tour is not just an adventure, but an enriching journey
                            through one of Portugal's most stunning natural parks.</span>
                        <span data-lang-inline="es">Como local del √°rea y profundamente conectado con su historia y
                            ecolog√≠a, Jos√© asegura que cada tour no sea solo una aventura, sino un viaje enriquecedor
                            por uno de los parques naturales m√°s impresionantes de Portugal.</span>
                        <span data-lang-inline="pt">Natural da regi√£o e profundamente ligado √† sua hist√≥ria e ecologia,
                            Jos√© garante que cada passeio n√£o √© apenas uma aventura, mas uma viagem enriquecedora por um
                            dos parques naturais mais deslumbrantes de Portugal.</span>
                        <span data-lang-inline="fr">Habitant de la r√©gion et profond√©ment li√© √† son histoire et √† son
                            √©cologie, Jos√© s'assure que chaque visite n'est pas seulement une aventure, mais un voyage
                            enrichissant √† travers l'un des parcs naturels les plus impressionnants du Portugal.</span>
                    </p>
                </div>
                <div class="flex justify-center md:justify-end">
                    <img src="Imagens/guia.jpeg" alt="Jos√© Am√¢ndio - Guia"
                        class="rounded-lg shadow-lg w-full max-w-md h-auto">
                </div>
            </div>
        </div>



        <div class="max-w-6xl mx-auto px-4">
            <h2 class="text-3xl font-bold text-center mb-12">
                <span data-lang-inline="en" class="active">Why Choose Us</span>
                <span data-lang-inline="es">Por Qu√© Elegirnos</span>
                <span data-lang-inline="pt">Porqu√™ escolher-nos</span>
                <span data-lang-inline="fr">Pourquoi Nous Choisir</span>
            </h2>
            <div class="grid md:grid-cols-3 gap-8">
                <!-- Experienced Guides -->
                <div class="text-center">
                    <div class="bg-green-600 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4">
                        <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                    </div>
                    <h3 class="text-xl font-bold mb-2">
                        <span data-lang-inline="en" class="active">Experienced Guides</span>
                        <span data-lang-inline="es">Gu√≠as Expertos</span>
                        <span data-lang-inline="pt">Guias Experientes</span>
                        <span data-lang-inline="fr">Guides Exp√©riment√©s</span>
                    </h3>
                    <p class="text-gray-600">
                        <span data-lang-inline="en" class="active">Professional guides with years of experience</span>
                        <span data-lang-inline="es">Gu√≠as profesionales con a√±os de experiencia</span>
                        <span data-lang-inline="pt">Guias profissionais com anos de experi√™ncia</span>
                        <span data-lang-inline="fr">Guides professionnels avec des ann√©es d'exp√©rience</span>
                    </p>
                </div>

                <!-- Flexible Schedule -->
                <div class="text-center">
                    <div class="bg-green-600 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4">
                        <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                    </div>
                    <h3 class="text-xl font-bold mb-2">
                        <span data-lang-inline="en" class="active">Flexible Schedule</span>
                        <span data-lang-inline="es">Horario Flexible</span>
                        <span data-lang-inline="pt">Hor√°rio Flex√≠vel</span>
                        <span data-lang-inline="fr">Horaires Flexibles</span>
                    </h3>
                    <p class="text-gray-600">
                        <span data-lang-inline="en" class="active">Multiple daily tours to fit your schedule</span>
                        <span data-lang-inline="es">M√∫ltiples tours diarios para adaptarse a tu horario</span>
                        <span data-lang-inline="pt">V√°rios passeios di√°rios para se adequar ao seu hor√°rio</span>
                        <span data-lang-inline="fr">Plusieurs d√©parts quotidiens pour s'adapter √† votre emploi du
                            temps</span>
                    </p>
                </div>

                <!-- Safety First -->
                <div class="text-center">
                    <div class="bg-green-600 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4">
                        <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7">
                            </path>
                        </svg>
                    </div>
                    <h3 class="text-xl font-bold mb-2">
                        <span data-lang-inline="en" class="active">Safety First</span>
                        <span data-lang-inline="es">Seguridad Primero</span>
                        <span data-lang-inline="pt">Seguran√ßa em Primeiro</span>
                        <span data-lang-inline="fr">La S√©curit√© Avant Tout</span>
                    </h3>
                    <p class="text-gray-600">
                        <span data-lang-inline="en" class="active">Top-notch equipment and safety measures</span>
                        <span data-lang-inline="es">Equipamiento de primera calidad y medidas de seguridad</span>
                        <span data-lang-inline="pt">Equipamento de alta qualidade e medidas de seguran√ßa</span>
                        <span data-lang-inline="fr">√âquipement de qualit√© et mesures de s√©curit√©</span>
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Terms and Conditions Section -->
    <section class="py-16 bg-gray-50">
        <div w3-include-html="Terms_and_conditions/Terms.html"></div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="py-16 max-w-6xl mx-auto px-4">
        <h2 class="text-3xl font-bold text-center mb-12">
            <span data-lang-inline="en" class="active">Contact Us</span>
            <span data-lang-inline="es">Cont√°ctenos</span>
            <span data-lang-inline="pt">Contacte-nos</span>
            <span data-lang-inline="fr">Contactez-nous</span>
        </h2>
        <div class="grid md:grid-cols-1 gap-8">
            <div>
                <h3 class="text-xl font-bold mb-4">
                    <span data-lang-inline="en" class="active">Get in Touch</span>
                    <span data-lang-inline="es">Ponte en Contacto</span>
                    <span data-lang-inline="pt">Entre em Contacto</span>
                    <span data-lang-inline="fr">Contactez-nous</span>
                </h3>

                <!-- Formspree Form -->
                <form action="https://api.web3forms.com/submit" method="POST" class="space-y-4" id="contactForm">
                    <input type="hidden" name="access_key" value="34405e88-cd9d-46b6-8430-51fe4eba1ee4">
                    <!-- Honeypot Spam Protection -->
                    <input type="checkbox" name="botcheck" class="hidden" style="display: none;">

                    <!-- Custom Confirmation / Success Page -->
                    <!-- <input type="hidden" name="redirect" value="https://mywebsite.com/thanks.html"> -->

                    <!-- Name Field -->
                    <div>
                        <label class="block text-gray-700 mb-2">
                            <span data-lang-inline="en" class="active">Name</span>
                            <span data-lang-inline="es">Nombre</span>
                            <span data-lang-inline="pt">Nome</span>
                            <span data-lang-inline="fr">Nom</span>
                        </label>
                        <input type="text" name="name" required class="w-full p-2 border rounded">
                    </div>

                    <!-- Email Field -->
                    <div>
                        <label class="block text-gray-700 mb-2">
                            <span data-lang-inline="en" class="active">Email</span>
                            <span data-lang-inline="es">Correo electr√≥nico</span>
                            <span data-lang-inline="pt">Email</span>
                            <span data-lang-inline="fr">Email</span>
                        </label>
                        <input type="email" name="email" required class="w-full p-2 border rounded">
                    </div>

                    <!-- Message Field -->
                    <div>
                        <label class="block text-gray-700 mb-2">
                            <span data-lang-inline="en" class="active">Message</span>
                            <span data-lang-inline="es">Mensaje</span>
                            <span data-lang-inline="pt">Mensagem</span>
                            <span data-lang-inline="fr">Message</span>
                        </label>
                        <textarea name="message" required class="w-full p-2 border rounded h-32"></textarea>
                    </div>

                    <div class="flex justify-center">
                        <!-- Submit Button -->
                        <button type="submit" class="bg-green-600 text-white px-6 py-2 rounded hover:bg-green-700">
                            <span data-lang-inline="en" class="active">Send Message</span>
                            <span data-lang-inline="es">Enviar Mensaje</span>
                            <span data-lang-inline="pt">Enviar Mensagem</span>
                            <span data-lang-inline="fr">Envoyer le Message</span>
                        </button>
                    </div>

                    <!-- Success/Error Messages -->
                    <div id="submitMessage" class="hidden mt-4 p-4 rounded">
                        <p class="success-message hidden text-green-700 bg-green-100 p-4 rounded">
                            <span data-lang-inline="en" class="active">Thank you for your message! We'll get back to you
                                soon.</span>
                            <span data-lang-inline="es">¬°Gracias por tu mensaje! Nos pondremos en contacto
                                pronto.</span>
                            <span data-lang-inline="pt">Obrigado pela sua mensagem! Entraremos em contacto em
                                breve.</span>
                            <span data-lang-inline="fr">Merci pour votre message ! Nous vous r√©pondrons bient√¥t.</span>
                        </p>
                        <p class="error-message hidden text-red-700 bg-red-100 p-4 rounded">
                            <span data-lang-inline="en" class="active">Oops! There was a problem sending your message.
                                Please try again.</span>
                            <span data-lang-inline="es">¬°Ups! Hubo un problema al enviar tu mensaje. Por favor,
                                int√©ntalo de nuevo.</span>
                            <span data-lang-inline="pt">Ops! Houve um problema ao enviar sua mensagem. Por favor, tente
                                novamente.</span>
                            <span data-lang-inline="fr">Oups ! Il y a eu un probl√®me lors de l'envoi de votre message.
                                Veuillez r√©essayer.</span>
                        </p>
                    </div>
                </form>
            </div>
        </div>
    </section>

    <section style="background-color: #F7F7F7; padding: 50px;">
        <div class="flex justify-center">
            <img src="Imagens/logos/five_senses.png" alt="Five Senses Tours Landscape" class="rounded-lg w-60 h-auto">
        </div>
    </section>


    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-8">
        <div class="max-w-6xl mx-auto px-4">
            <div class="grid md:grid-cols-3 gap-8">
                <div>
                    <h4 class="text-lg font-bold mb-4">Five Senses Tours</h4>
                    <p class="text-gray-400">
                        <span data-lang-inline="en" class="active">Providing unforgettable outdoor experiences since
                            2024</span>
                        <span data-lang-inline="es">Proporcionando experiencias al aire libre inolvidables desde
                            2024</span>
                        <span data-lang-inline="pt">Proporcionando experi√™ncias inesquec√≠veis ao ar livre desde
                            2024</span>
                        <span data-lang-inline="fr">Offrant des exp√©riences inoubliables en plein air depuis 2024</span>
                    </p>
                </div>
                <div>
                    <h4 class="text-lg font-bold mb-4">Quick Links</h4>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-400 hover:text-white">
                                <span data-lang-inline="en" class="active">Home</span>
                                <span data-lang-inline="es">Inicio</span>
                                <span data-lang-inline="pt">In√≠cio</span>
                                <span data-lang-inline="fr">Accueil</span>
                            </a></li>
                        <li><a href="#tours" class="text-gray-400 hover:text-white">
                                <span data-lang-inline="en" class="active">Tours</span>
                                <span data-lang-inline="es">Visitas</span>
                                <span data-lang-inline="pt">Passeios</span>
                                <span data-lang-inline="fr">Circuits</span>
                            </a></li>
                        <li><a href="#about" class="text-gray-400 hover:text-white">
                                <span data-lang-inline="en" class="active">About</span>
                                <span data-lang-inline="es">Sobre Nosotros</span>
                                <span data-lang-inline="pt">Sobre N√≥s</span>
                                <span data-lang-inline="fr">Sur nous</span>
                            </a></li>
                        <li><a href="#contact" class="text-gray-400 hover:text-white">
                                <span data-lang-inline="en" class="active">Contact</span>
                                <span data-lang-inline="es">Contacto</span>
                                <span data-lang-inline="pt">Contactos</span>
                                <span data-lang-inline="fr">Contact</span>
                            </a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="text-lg font-bold mb-4">
                        <span data-lang-inline="en" class="active">Contact Us</span>
                        <span data-lang-inline="es">Cont√°ctenos</span>
                        <span data-lang-inline="pt">Contacte-nos</span>
                        <span data-lang-inline="fr">Contactez-nous</span>
                    </h4>
                    <div class="space-y-2">
                        <div class="flex items-center">
                            <svg class="w-5 h-5 mr-2 text-green-500" fill="none" stroke="currentColor"
                                viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
                            </svg>
                            <a href="tel:+351912345678" class="text-gray-400 hover:text-white">+351 918 302 714</a>
                        </div>
                        <div class="flex items-center">
                            <svg class="w-5 h-5 mr-2 text-green-500" fill="none" stroke="currentColor"
                                viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207" />
                            </svg>
                            <a href="mailto:info@fivesensestours.pt"
                                class="text-gray-400 hover:text-white">info@fivesensestours.pt</a>
                        </div>
                        <div class="flex items-center">
                            <svg class="w-5 h-5 mr-2 text-green-500" fill="none" stroke="currentColor"
                                viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                            </svg>
                            <span class="text-gray-400">Set√∫bal, Portugal</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="border-t border-gray-700 mt-8 pt-6 pb-2">
                <!-- 
                <h4 class="text-center text-lg mb-4">
                    <span data-lang-inline="en" class="active">Our Partners</span>
                    <span data-lang-inline="es">Nuestros Socios</span>
                    <span data-lang-inline="pt">Nossos Parceiros</span>
                    <span data-lang-inline="fr">Nos Partenaires</span>
                </h4>
                -->
                <div class="flex flex-wrap justify-center items-center gap-4 md:gap-10">
                    <!-- Replace these with your actual logo files -->
                    <img src="Imagens/logos/turismo-de-portugal.png" alt="Turismo de Portugal Logo" class="h-12 w-auto">
                    <img src="Imagens/logos/icnf.png" alt="ICNF Logo" class="h-14 w-auto">
                    <img src="Imagens/logos/turismo_natureza.png" alt="turismo natureza Logo" class="h-16 w-auto">
                </div>
            </div>

            <div class="border-t border-gray-700 mt-8 pt-8 text-center text-gray-400">
                <p>&copy; 2025 Five Senses Tours.
                    <span data-lang-inline="en" class="active">All rights reserved.</span>
                    <span data-lang-inline="es">Todos los derechos reservados.</span>
                    <span data-lang-inline="pt">Todos os direitos reservados.</span>
                    <span data-lang-inline="fr">Tous droits r√©serv√©s.</span>
                </p>
            </div>
        </div>
    </footer>

    <script>
        // Function to include HTML
        function includeHTML() {
            var z, i, elmnt, file, xhttp;
            z = document.getElementsByTagName("*");
            for (i = 0; i < z.length; i++) {
                elmnt = z[i];
                file = elmnt.getAttribute("w3-include-html");
                if (file) {
                    console.log("Loading: " + file); // Debug line
                    xhttp = new XMLHttpRequest();
                    xhttp.onreadystatechange = function () {
                        if (this.readyState == 4) {
                            if (this.status == 200) {
                                elmnt.innerHTML = this.responseText;
                                elmnt.removeAttribute("w3-include-html");

                                // Initialize carousels after content is loaded
                                initializeCarousels();

                                // Call the new function to ensure all tour cards work
                                reinitializeTourCards();

                                // Get current language and reapply it to new content
                                const currentLang = document.documentElement.lang || 'pt';
                                changeLanguage(currentLang);

                                // Update select options if they exist
                                document.querySelectorAll('select option[data-' + currentLang + ']').forEach(option => {
                                    option.textContent = option.getAttribute('data-' + currentLang);
                                });
                            }
                            if (this.status == 404) { elmnt.innerHTML = "Page not found."; }
                            includeHTML(); // Continue with next element
                        }
                    }
                    xhttp.open("GET", file, true);
                    xhttp.send();
                    return;
                }
            }
        }

        function setupMoreDetailsLinks() {
            // Select all links that have "details_rota_castelos.html" in the href
            document.querySelectorAll('a[href*="details_rota_castelos.html"]').forEach(link => {
                // Remove existing click listeners to avoid duplicates
                const newLink = link.cloneNode(true);
                link.parentNode.replaceChild(newLink, link);

                newLink.addEventListener('click', function (e) {
                    // Prevent the default navigation
                    e.preventDefault();

                    // Find the currently active language
                    const currentLang = document.querySelector('[data-lang-inline].active').getAttribute('data-lang-inline');

                    // Get the base URL without any existing parameters
                    let baseUrl = this.href.split('?')[0];

                    // Navigate to the URL with the language parameter
                    window.location.href = `${baseUrl}?lang=${currentLang}`;
                });
            });
            document.querySelectorAll('a[href*="details_terras_do_cabo_espichel.html"]').forEach(link => {
                // Remove existing click listeners to avoid duplicates
                const newLink = link.cloneNode(true);
                link.parentNode.replaceChild(newLink, link);

                newLink.addEventListener('click', function (e) {
                    // Prevent the default navigation
                    e.preventDefault();

                    // Find the currently active language
                    const currentLang = document.querySelector('[data-lang-inline].active').getAttribute('data-lang-inline');

                    // Get the base URL without any existing parameters
                    let baseUrl = this.href.split('?')[0];

                    // Navigate to the URL with the language parameter
                    window.location.href = `${baseUrl}?lang=${currentLang}`;
                });
            });
        }


        // Function to setup tour card listeners
        function setupTourCardListeners() {
            document.querySelectorAll('.tour-card').forEach(card => {
                card.addEventListener('click', function (e) {
                    if (e.target.tagName === 'BUTTON' ||
                        e.target.closest('button') ||
                        e.target.classList.contains('carousel-dot') ||
                        e.target.tagName === 'A') {
                        return;
                    }

                    document.querySelectorAll('.tour-card').forEach(c => {
                        if (c !== card) {
                            c.classList.remove('active');
                        }
                    });

                    card.classList.toggle('active');
                });
            });
        }

        // Language switching functionality without using localStorage
        function changeLanguage(lang) {
            document.querySelectorAll('[data-lang]').forEach(elem => {
                elem.classList.toggle('active', elem.getAttribute('data-lang') === lang);
            });
            document.querySelectorAll('[data-lang-inline]').forEach(elem => {
                elem.classList.toggle('active', elem.getAttribute('data-lang-inline') === lang);
            });

            // Update select options in both the main form and modal
            document.querySelectorAll('select option[data-' + lang + ']').forEach(option => {
                option.textContent = option.getAttribute('data-' + lang);
            });

            // Update mobile language selector value
            const mobileLangSelect = document.querySelector('#mobile-menu select');
            if (mobileLangSelect) {
                mobileLangSelect.value = lang;
            }

            document.documentElement.lang = lang;
        }

        // Hero carousel images
        const heroImages = [
            'Tours/Arrabida/rota-dos-castelos/Img_rota_castelos/IMG_1230 2.jpeg',
            'Tours/Arrabida/rota-dos-castelos/Img_rota_castelos/P1510576.jpg',
            'Tours/Arrabida/rota-dos-castelos/Img_rota_castelos/P1510581.jpg',
            'Tours/Arrabida/rota-dos-castelos/Img_rota_castelos/P1510587.jpg'
        ];

        let currentHeroSlide = 0;
        let heroInterval;

        function initializeHeroCarousel() {
            const carousel = document.getElementById('hero-carousel');
            const dotsContainer = carousel.parentElement.querySelector('.flex.justify-center');

            // Clear existing content
            carousel.innerHTML = '';
            dotsContainer.innerHTML = '';

            // Add images
            heroImages.forEach((src, index) => {
                const img = document.createElement('img');
                img.src = src;
                img.alt = `Hero image ${index + 1}`;
                // Changed from opacity classes to hidden class
                img.className = `absolute w-full h-full object-cover ${index === 0 ? '' : 'hidden'}`;
                carousel.appendChild(img);
            });

            // Add dots
            heroImages.forEach((_, index) => {
                const dot = document.createElement('button');
                dot.className = `w-3 h-3 rounded-full bg-white ${index === 0 ? 'bg-opacity-100' : 'bg-opacity-50'} hover:bg-opacity-100 transition-all duration-300`;
                dot.addEventListener('click', () => showHeroSlide(index));
                dotsContainer.appendChild(dot);
            });

            // Start automatic slideshow
            startHeroSlideshow();
        }

        function showHeroSlide(index) {
            const images = document.querySelectorAll('#hero-carousel img');
            const dots = document.querySelectorAll('#hero-carousel + div button');

            // Changed from opacity to hidden class
            images.forEach(img => img.classList.add('hidden'));

            // Update dots
            dots.forEach(dot => dot.classList.replace('bg-opacity-100', 'bg-opacity-50'));

            // Show selected image
            images[index].classList.remove('hidden');
            dots[index].classList.replace('bg-opacity-50', 'bg-opacity-100');

            currentHeroSlide = index;
        }

        function moveHeroSlide(direction) {
            // Reset the interval when manually changing slides
            clearInterval(heroInterval);

            const newIndex = (currentHeroSlide + direction + heroImages.length) % heroImages.length;
            showHeroSlide(newIndex);

            // Restart the slideshow
            startHeroSlideshow();
        }

        function startHeroSlideshow() {
            // Clear any existing interval
            clearInterval(heroInterval);

            // Set new interval
            heroInterval = setInterval(() => {
                moveHeroSlide(1);
            }, 5000); // Change slide every 5 seconds
        }

        // ===== Tour images ======
        const tourImages = {
            'rota_castelos': [
                'Tours/Arrabida/rota-dos-castelos/Img_rota_castelos/P1510576.jpg',
                'Tours/Arrabida/rota-dos-castelos/Img_rota_castelos/P1510556.jpg',
                'Tours/Arrabida/rota-dos-castelos/Img_rota_castelos/P1510581.jpg',
                'Tours/Arrabida/rota-dos-castelos/Img_rota_castelos/P1510587.jpg'
                // Add more images as needed
            ],
            'maravilhas_arrabida': [
                'Tours/Arrabida/maravilhas-arrabida/Img_maravilhas_arrabida/P1510646.jpg',
                'Tours/Arrabida/maravilhas-arrabida/Img_maravilhas_arrabida/P1510523.jpg',
                'Tours/Arrabida/maravilhas-arrabida/Img_maravilhas_arrabida/P1510654.jpg'
                // Add more images as needed
            ],
            'comporta_carrasqueira': [
                // Add some image paths for this tour
                'Tours/Troia/Comporta-Carrasqueira/Img_comporta_carrasqueira/comporta.jpeg',
                'Tours/Troia/Comporta-Carrasqueira/Img_comporta_carrasqueira/Drone_troia.png'
            ],
            'terras_do_cabo_espichel': [
                'Imagens/P1510523.jpg'
                //'Imagens/P1510654.jpg'
                // Add more images as needed
            ]
        };

        // Function to initialize carousels
        function initializeCarousels() {
            // For each tour in tourImages
            Object.keys(tourImages).forEach(tourId => {
                const carouselContainer = document.getElementById(`carousel-${tourId}`);
                if (!carouselContainer) return;

                console.log(`Initializing carousel for ${tourId}`); // Debug line

                // Clear existing content
                carouselContainer.innerHTML = '';

                // Add images
                tourImages[tourId].forEach((src, index) => {
                    const img = document.createElement('img');
                    img.src = src;
                    img.alt = `Tour image ${index + 1}`;
                    img.className = `carousel-image w-full h-full object-cover ${index === 0 ? '' : 'hidden'}`;
                    carouselContainer.appendChild(img);
                });

                // Generate dots
                const dotsContainer = carouselContainer.parentElement.querySelector('.flex.justify-center');
                if (!dotsContainer) return;

                dotsContainer.innerHTML = '';
                tourImages[tourId].forEach((_, index) => {
                    const dot = document.createElement('button');
                    dot.className = `carousel-dot w-2 h-2 rounded-full bg-white ${index === 0 ? 'bg-opacity-100' : 'bg-opacity-50'} hover:bg-opacity-100`;
                    dot.addEventListener('click', (event) => {
                        event.stopPropagation();
                        showSlide(carouselContainer, index);
                    });
                    dotsContainer.appendChild(dot);
                });
            });
        }

        // Function to show a specific slide
        function showSlide(container, index) {
            const images = container.querySelectorAll('.carousel-image');
            const dots = container.parentElement.querySelectorAll('.carousel-dot');

            // Hide all images and reset dots
            images.forEach(img => img.classList.add('hidden'));
            dots.forEach(dot => {
                dot.classList.remove('bg-opacity-100');
                dot.classList.add('bg-opacity-50');
            });

            // Show selected image and dot
            images[index].classList.remove('hidden');
            dots[index].classList.remove('bg-opacity-50');
            dots[index].classList.add('bg-opacity-100');
        }

        // Function to move slides
        function moveSlide(button, direction) {
            event.stopPropagation();

            const container = button.closest('.relative').querySelector('.carousel-container');
            const images = container.querySelectorAll('.carousel-image');
            const currentIndex = Array.from(images).findIndex(img => !img.classList.contains('hidden'));
            const newIndex = (currentIndex + direction + images.length) % images.length;

            showSlide(container, newIndex);
        }

        document.querySelectorAll('.more-details-link').forEach(link => {
            link.addEventListener('click', function (e) {
                // Get current active language
                const currentLang = document.querySelector('[data-lang-inline].active').getAttribute('data-lang-inline');

                // Update href with current language
                this.href = `Tours/Arrabida/rota-dos-castelos/details_rota_castelos.html?lang=${currentLang}`;
            });
        });

        document.addEventListener('DOMContentLoaded', function () {
            includeHTML();
            // Add event listener to all 'More Details' links
            document.querySelectorAll('a[href="Tours/Arrabida/rota-dos-castelos/details_rota_castelos.html"]').forEach(link => {
                link.addEventListener('click', function (e) {
                    // Find the currently active language
                    const currentLang = document.querySelector('[data-lang-inline].active').getAttribute('data-lang-inline');

                    // Update the href with the current language
                    this.href = `Tours/Arrabida/rota-dos-castelos/details_rota_castelos.html?lang=${currentLang}`;
                });
            });

            document.querySelectorAll('a[href="Tours/Arrabida/maravilhas-arrabida/details_maravilhas_arrabida.html"]').forEach(link => {
                link.addEventListener('click', function (e) {
                    // Find the currently active language
                    const currentLang = document.querySelector('[data-lang-inline].active').getAttribute('data-lang-inline');

                    // Update the href with the current language
                    this.href = `Tours/Arrabida/maravilhas-arrabida/details_maravilhas_arrabida.html?lang=${currentLang}`;
                });
            });

            document.querySelectorAll('a[href="Tours/Troia/Comporta-Carrasqueira/details_comporta_carrasqueira.html"]').forEach(link => {
                link.addEventListener('click', function (e) {
                    // Find the currently active language
                    const currentLang = document.querySelector('[data-lang-inline].active').getAttribute('data-lang-inline');

                    // Update the href with the current language
                    this.href = `Tours/Troia/Comporta-Carrasqueira/details_comporta_carrasqueira.html?lang=${currentLang}`;
                });
            });

            document.querySelectorAll('a[href="Tours/Arrabida/terras-do-cabo-espichel/details_terras_do_cabo_espichel.html"]').forEach(link => {
                link.addEventListener('click', function (e) {
                    // Find the currently active language
                    const currentLang = document.querySelector('[data-lang-inline].active').getAttribute('data-lang-inline');

                    // Update the href with the current language
                    this.href = `Tours/Arrabida/terras-do-cabo-espichel/details_terras_do_cabo_espichel.html?lang=${currentLang}`;
                });
            });

            setupMoreDetailsLinks();


            // Mobile menu toggle
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');

            mobileMenuButton.addEventListener('click', function (e) {
                e.stopPropagation(); // Prevent event bubbling
                mobileMenu.classList.toggle('hidden');
            });

            // Close menu when clicking outside
            document.addEventListener('click', function (e) {
                if (!mobileMenu.contains(e.target) && !mobileMenuButton.contains(e.target)) {
                    mobileMenu.classList.add('hidden');
                }
            });

            // Close menu when clicking a link
            mobileMenu.querySelectorAll('a').forEach(link => {
                link.addEventListener('click', function () {
                    mobileMenu.classList.add('hidden');
                });
            });

            // Initialize all carousels
            changeLanguage('pt');
            document.querySelectorAll('select option[data-pt]').forEach(option => {
                option.textContent = option.getAttribute('data-pt');
            });
            initializeCarousels();
            initializeHeroCarousel();
        });


        // Tour card toggle functionality
        document.querySelectorAll('.tour-card').forEach(card => {
            card.addEventListener('click', function (e) {
                // Don't toggle if clicking buttons, arrows, or dots
                if (e.target.tagName === 'BUTTON' ||
                    e.target.closest('button') ||
                    e.target.classList.contains('carousel-dot')) {
                    return;
                }

                // Remove active class from all cards except the clicked one
                document.querySelectorAll('.tour-card').forEach(c => {
                    if (c !== card) {
                        c.classList.remove('active');
                    }
                });

                // Toggle active class on clicked card
                card.classList.toggle('active');
            });
        });

        function openBookingModal(tourType) {
            const modal = document.getElementById('bookingModal');
            const tourSelect = modal.querySelector('select[name="tourType"]');

            // Set tour type if provided
            if (tourType) {
                tourSelect.value = tourType;
            }

            // Update select options based on current language
            const currentLang = document.documentElement.lang;
            modal.querySelectorAll('select option[data-' + currentLang + ']').forEach(option => {
                option.textContent = option.getAttribute('data-' + currentLang);
            });

            modal.classList.remove('hidden');
            modal.classList.add('flex');
        }

        function closeBookingModal() {
            const modal = document.getElementById('bookingModal');
            modal.classList.remove('flex');
            modal.classList.add('hidden');
        }

        // Form submission handler
        document.getElementById('bookingForm').addEventListener('submit', async function (e) {
            e.preventDefault();

            try {
                const response = await fetch(this.action, {
                    method: 'POST',
                    body: new FormData(this),
                    headers: {
                        'Accept': 'application/json'
                    }
                });

                if (response.ok) {
                    // Show success message
                    const currentLang = document.documentElement.lang;
                    const successMessages = {
                        en: 'Thank you for your booking! We will contact you shortly.',
                        es: '¬°Gracias por su reserva! Nos pondremos en contacto pronto.',
                        pt: 'Obrigado pela sua reserva! Entraremos em contacto em breve.',
                        fr: 'Merci pour votre r√©servation ! Nous vous contacterons bient√¥t.'
                    };

                    alert(successMessages[currentLang]);
                    this.reset();
                    closeBookingModal();
                } else {
                    throw new Error('Network response was not ok');
                }
            } catch (error) {
                // Show error message
                const currentLang = document.documentElement.lang;
                const errorMessages = {
                    en: 'There was a problem submitting your booking. Please try again.',
                    es: 'Hubo un problema al enviar su reserva. Por favor, int√©ntelo de nuevo.',
                    pt: 'Houve um problema ao enviar sua reserva. Por favor, tente novamente.',
                    fr: 'Un probl√®me est survenu lors de l\'envoi de votre r√©servation. Veuillez r√©essayer.'
                };

                alert(errorMessages[currentLang]);
            }
        });

        document.getElementById('mobile-menu-button').addEventListener('click', function () {
            const mobileMenu = document.getElementById('mobile-menu');
            mobileMenu.classList.toggle('hidden');
        });

        // Function to toggle main terms and conditions
        function toggleMainTerms() {
            const content = document.getElementById('mainTermsContent');
            const arrow = content.parentElement.querySelector('button svg');

            if (content.style.maxHeight && content.style.maxHeight !== '0px') {
                content.style.maxHeight = '0px';
                arrow.classList.remove('rotate-180');
            } else {
                content.style.maxHeight = content.scrollHeight + 2000 + 'px'; // Adding extra space for nested content
                arrow.classList.add('rotate-180');
            }
        }

        // Function to toggle individual sections
        function toggleTermsSection(button) {
            const content = button.nextElementSibling;
            const arrow = button.querySelector('svg');
            const mainContent = document.getElementById('mainTermsContent');

            if (content.style.maxHeight && content.style.maxHeight !== '0px') {
                content.style.maxHeight = '0px';
                arrow.classList.remove('rotate-180');
            } else {
                content.style.maxHeight = content.scrollHeight + 'px';
                arrow.classList.add('rotate-180');
                // Update main container height
                mainContent.style.maxHeight = mainContent.scrollHeight + content.scrollHeight + 'px';
            }
        }

        //email
        const form = document.getElementById('contactForm');
        const successMessage = document.querySelector('.success-message');
        const errorMessage = document.querySelector('.error-message');

        form.addEventListener('submit', async (e) => {
            e.preventDefault();

            try {
                const response = await fetch(form.action, {
                    method: 'POST',
                    body: new FormData(form),
                    headers: {
                        'Accept': 'application/json'
                    }
                });

                if (response.ok) {
                    // Show success message
                    form.reset();
                    successMessage.classList.remove('hidden');
                    errorMessage.classList.add('hidden');

                    // Hide success message after 5 seconds
                    setTimeout(() => {
                        successMessage.classList.add('hidden');
                    }, 5000);
                } else {
                    throw new Error('Network response was not ok');
                }
            } catch (error) {
                // Show error message
                errorMessage.classList.remove('hidden');
                successMessage.classList.add('hidden');

                // Hide error message after 5 seconds
                setTimeout(() => {
                    errorMessage.classList.add('hidden');
                }, 5000);
            }
        });


        function reinitializeTourCards() {
            console.log("Reinitializing tour cards");
            // Setup tour card listeners
            document.querySelectorAll('.tour-card').forEach(card => {
                // Remove any existing event listeners to avoid duplicates
                const newCard = card.cloneNode(true);
                card.parentNode.replaceChild(newCard, card);

                // Add new event listener
                newCard.addEventListener('click', function (e) {
                    // Don't toggle if clicking buttons, arrows, or dots
                    if (e.target.tagName === 'BUTTON' ||
                        e.target.closest('button') ||
                        e.target.classList.contains('carousel-dot') ||
                        e.target.tagName === 'A') {
                        return;
                    }

                    // Remove active class from all cards except the clicked one
                    document.querySelectorAll('.tour-card').forEach(c => {
                        if (c !== newCard) {
                            c.classList.remove('active');
                        }
                    });

                    // Toggle active class on clicked card
                    newCard.classList.toggle('active');
                });
            });

            // Re-attach event listeners to "More Details" links
            setupMoreDetailsLinks();
        }


    </script>


    <!-- Booking Modal -->
    <div id="bookingModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
        <div class="bg-white rounded-lg p-8 max-w-md w-full max-h-90vh overflow-y-auto m-4">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-xl font-bold">
                    <span data-lang-inline="en" class="active">Book Your Tour</span>
                    <span data-lang-inline="es">Reserva Tu Tour</span>
                    <span data-lang-inline="pt">Reserva o Teu Tour</span>
                    <span data-lang-inline="fr">R√©servez Votre Circuit</span>
                </h3>
                <button onclick="closeBookingModal()" class="text-gray-500 hover:text-gray-700">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>

            <!-- Updated form with web3forms action -->
            <form id="bookingForm" action="https://api.web3forms.com/submit" method="POST" class="space-y-4">
                <input type="hidden" name="access_key" value="34405e88-cd9d-46b6-8430-51fe4eba1ee4">
                <!-- Honeypot Spam Protection -->
                <input type="checkbox" name="botcheck" class="hidden" style="display: none;">
                <!-- Custom Confirmation / Success Page -->
                <!-- <input type="hidden" name="redirect" value="https://mywebsite.com/thanks.html"> -->

                <!-- Tour Selection -->
                <div>
                    <label class="block text-gray-700 mb-2">
                        <span data-lang-inline="en" class="active">Select Experience</span>
                        <span data-lang-inline="es">Seleccionar Experiencia</span>
                        <span data-lang-inline="pt">Selecionar Experi√™ncia</span>
                        <span data-lang-inline="fr">S√©lectionner l'Exp√©rience</span>
                    </label>
                    <select name="tourType" required class="w-full p-2 border rounded">
                        <option value="Rota dos castelos" data-pt="Tour 4x4 Rota dos castelos"
                            data-en="4x4 Tour Castle Route" data-es="Tour 4x4 Ruta de los Castillos"
                            data-fr="Visite 4x4 Route des Ch√¢teaux">
                            Tour 4x4 Rota dos castelos
                        </option>
                        <option value="Maravilhas da Arr√°bida" data-pt="Tour 4x4 Maravilhas da Arr√°bida"
                            data-en="4x4 Tour Wonders of Arr√°bida" data-es="Tour 4x4 Maravillas de Arr√°bida"
                            data-fr="Visite 4x4 Merveilles d'Arr√°bida">
                            Tour 4x4 Maravilhas da Arr√°bida
                        </option>
                        <option value="Terras do Cabo Espichel" data-pt="Tour 4x4 Terras do Cabo Espichel"
                            data-en="4x4 Tour Lands of Cabo Espichel" data-es="Tour 4x4 Tierras del Cabo Espichel"
                            data-fr="Visite 4x4 Terres du Cap Espichel">
                            Tour 4x4 Terras do Cabo Espichel
                        </option>
                        <option value="Maravilhas da Comporta e Carrasqueira"
                            data-pt="Tour 4x4 Maravilhas da Comporta e Carrasqueira"
                            data-en="4x4 Tour Wonders of Comporta and Carrasqueira"
                            data-es="Tour 4x4 Maravillas de Comporta y Carrasqueira"
                            data-fr="Visite 4x4 Merveilles de Comporta et Carrasqueira">
                            Tour 4x4 Maravilhas da Comporta e Carrasqueira
                        </option>
                    </select>
                </div>

                <!-- Date Selection -->
                <div>
                    <label class="block text-gray-700 mb-2">
                        <span data-lang-inline="en" class="active">Select Date</span>
                        <span data-lang-inline="es">Seleccionar Fecha</span>
                        <span data-lang-inline="pt">Selecionar Data</span>
                        <span data-lang-inline="fr">S√©lectionner la Date</span>
                    </label>
                    <input type="date" name="tourDate" required class="w-full p-2 border rounded">
                </div>

                <!-- Time Selection -->
                <div>
                    <label class="block text-gray-700 mb-2">
                        <span data-lang-inline="en" class="active">Select Time</span>
                        <span data-lang-inline="es">Seleccionar Hora</span>
                        <span data-lang-inline="pt">Selecionar Hora</span>
                        <span data-lang-inline="fr">S√©lectionner l'Heure</span>
                    </label>
                    <input type="time" name="tourTime" required class="w-full p-2 border rounded">
                </div>

                <!-- Number of People -->
                <div>
                    <label class="block text-gray-700 mb-2">
                        <span data-lang-inline="en" class="active">Number of People</span>
                        <span data-lang-inline="es">N√∫mero de Personas</span>
                        <span data-lang-inline="pt">N√∫mero de Pessoas</span>
                        <span data-lang-inline="fr">Nombre de Personnes</span>
                    </label>
                    <input type="number" name="numberOfPeople" min="1" max="10" required
                        class="w-full p-2 border rounded">
                </div>

                <!-- Contact Information -->
                <div>
                    <label class="block text-gray-700 mb-2">
                        <span data-lang-inline="en" class="active">Name</span>
                        <span data-lang-inline="es">Nombre</span>
                        <span data-lang-inline="pt">Nome</span>
                        <span data-lang-inline="fr">Nom</span>
                    </label>
                    <input type="text" name="name" required class="w-full p-2 border rounded">
                </div>

                <div>
                    <label class="block text-gray-700 mb-2">
                        <span data-lang-inline="en" class="active">Email</span>
                        <span data-lang-inline="es">Correo Electr√≥nico</span>
                        <span data-lang-inline="pt">Email</span>
                        <span data-lang-inline="fr">Email</span>
                    </label>
                    <input type="email" name="email" required class="w-full p-2 border rounded">
                </div>

                <div>
                    <label class="block text-gray-700 mb-2">
                        <span data-lang-inline="en" class="active">Phone</span>
                        <span data-lang-inline="es">Tel√©fono</span>
                        <span data-lang-inline="pt">Telefone</span>
                        <span data-lang-inline="fr">T√©l√©phone</span>
                    </label>
                    <input type="tel" name="phone" required class="w-full p-2 border rounded">
                </div>

                <!-- Add hidden field for language -->
                <input type="hidden" name="language" id="bookingLanguage">

                <button type="submit" class="w-full bg-green-600 text-white px-6 py-2 rounded hover:bg-green-700">
                    <span data-lang-inline="en" class="active">Book Now</span>
                    <span data-lang-inline="es">Reservar Ahora</span>
                    <span data-lang-inline="pt">Reservar Agora</span>
                    <span data-lang-inline="fr">R√©server Maintenant</span>
                </button>

                <!-- Success/Error Messages -->
                <div id="bookingSubmitMessage" class="hidden mt-4">
                    <p class="booking-success-message hidden text-green-700 bg-green-100 p-4 rounded">
                        <span data-lang-inline="en" class="active">Thank you for your booking! We'll get back to you
                            soon.</span>
                        <span data-lang-inline="es">¬°Gracias por tu reserva! Nos pondremos en contacto pronto.</span>
                        <span data-lang-inline="pt">Obrigado pela sua reserva! Entraremos em contacto em breve.</span>
                        <span data-lang-inline="fr">Merci pour votre r√©servation ! Nous vous r√©pondrons bient√¥t.</span>
                    </p>
                    <p class="booking-error-message hidden text-red-700 bg-red-100 p-4 rounded">
                        <span data-lang-inline="en" class="active">Oops! There was a problem sending your booking.
                            Please try again.</span>
                        <span data-lang-inline="es">¬°Ups! Hubo un problema al enviar tu reserva. Por favor, int√©ntalo de
                            nuevo.</span>
                        <span data-lang-inline="pt">Ops! Houve um problema ao enviar sua reserva. Por favor, tente
                            novamente.</span>
                        <span data-lang-inline="fr">Oups ! Il y a eu un probl√®me lors de l'envoi de votre r√©servation.
                            Veuillez r√©essayer.</span>
                    </p>
                </div>
            </form>
        </div>
    </div>


</body>

</html>